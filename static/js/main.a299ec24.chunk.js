(this["webpackJsonptri-factory"]=this["webpackJsonptri-factory"]||[]).push([[0],{33:function(e,n,t){e.exports=t(51)},38:function(e,n,t){},5:function(e,n,t){"use strict";function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function a(e,n){var t=n[0],r=n[1];return e>r?r:e<t?t:e}Object.defineProperty(n,"__esModule",{value:!0});var o=function(e){var n=e.completionRatio,t=void 0===n?.5:n,r=e.range,a=r[0],o=r[1];return o+t*(a-o)},i={proto:"[a-fA-F0-9]+",draft:function(e){return new RegExp("^"+this.proto+"$").test(e)&&e.length<=6},final:function(e){return 3===e.length||6===e.length},exec:function(e){return new RegExp(this.proto).exec(e)[0]},process:function(e){var n=this.exec(e);switch(n.length){case 6:return"#"+n;case 3:return"#"+function(e){var n=e.split("");return[0,0,1,1,2,2].map((function(e){return n[e]})).join("")}(n);default:throw new Error(n+" does not contain a valid hex")}}};function c(e,n){for(var t=n[0],r=n[1];e>=r;)e-=r-t;for(;e<t;)e+=r-t;return e}var l=function(e){var n=(e=c(e,[0,360]))/60,t=Math.floor(n),r=n-t,a=r,o=1-r;switch(t){case 0:return[1,a,0];case 1:return[o,1,0];case 2:return[0,1,a];case 3:return[0,o,1];case 4:return[a,0,1];case 5:return[1,0,o];default:throw new Error("invalid hue served: "+e)}},s={R:.3,G:.5,B:.2},u=function(e){var n=l(e),t=n[0],r=n[1],a=n[2];return s.R*t+s.G*r+s.B*a},d=function(e,n){for(var t=255,r=c(e,[0,360]),a=-1,o=0;o<n.length;a++,o++){var i=(a=c(a,[0,n.length]))>o?c(r,[-180,180]):void 0,l=n[a],s=n[o],u=a>o?c(l.hue,[-180,180]):l.hue,d=s.hue;if((i||r)>=u&&(i||r)<d){var b=i||r;b-=u,b/=d-u,b*=s.sat-l.sat,t=b+=l.sat}}return t},b=function(e){var n,t=e.R,r=e.G,a=e.B;return t>r&&r>=a&&(n=60*(0+(r-a)/(t-a))),r>=t&&t>a&&(n=60*(2-(t-a)/(r-a))),r>a&&a>=t&&(n=60*(2+(a-t)/(r-t))),a>=r&&r>t&&(n=60*(4-(r-t)/(a-t))),a>t&&t>=r&&(n=60*(4+(t-r)/(a-r))),t>=a&&a>r&&(n=60*(6-(a-r)/(t-r))),t===r&&r===a&&(n=0),n},p=function(e){var n=e.R,t=e.G,r=e.B;return Math.max(n,t,r)-Math.min(n,t,r)},h=function(e){var n=e.R,t=e.G,r=e.B;return s.R*n/255+s.G*t/255+s.B*r/255},f=function(e){var n=function(e){var n,t,r,o=e.hue,i=e.sat,c=e.lum,s=e.prefer,b=void 0===s?"sat":s,p=e.tuner,f=l(o);function g(e){var n=function(n){return Math.round(f[n]*e)};return{R:n(0),G:n(1),B:n(2)}}var v=0,m=1,x=d(o,p);if("sat"===b){var j={R:(r=g(n=a(Math.min(i,x),[0,255]))).R+255-n,G:r.G+255-n,B:r.B+255-n};t=a(c,[v=h(r),m=h(j)])}if("lum"===b){t=a(c,[0,1]);var O=u(o);x=Math.min(x,Math.round(t<=O?t/O*255:255*(1-t)/(1-O))),r=g(n=Math.min(i,x)),v=h(r)}var w=255-Math.max.apply(Math,Object.values(r)),y=a(Math.round(255*(t-v)),[0,w]),k={R:r.R+y,G:r.G+y,B:r.B+y};return{channels:{R:k.R,G:k.G,B:k.B},fix:{sat:n,lum:t},limit:{sat:[0,x],lum:["lum"===b?0:v,m]}}}({hue:e.hue,sat:e.sat,lum:e.lum,prefer:e.prefer,tuner:e.tuner}),t=n.channels,r=n.fix,o=n.limit;return{hex:function(e){return"#"+Object.values(e).map((function(e){var n=e.toString(16);return 1===n.length&&(n=0+n),n})).join("")}({R:t.R,G:t.G,B:t.B}),fix:r,limit:o}},g=function(e){var n=e.hue,t=e.sat,r=e.lum,a=e.prefer,o=e.tuner;return f({hue:n,sat:t,lum:r,prefer:a,tuner:o}).hex};function v(e,n,t){for(var r={},a=function(a){var i=t[a],c=i.attribute,l=i.relative,s=e[c],u=o({completionRatio:n,range:[function(){switch(typeof i.to){case"number":return l?s+i.to:i.to;case"function":return i.to(e[c]);default:throw new Error("gradient axis type error:\ncurrentAxis.to is "+i.to+" (type: "+typeof i.to+")\ntype must be\n* 'number'    (for absolute values) or\n* 'function'  (for values relative to the root value).")}}(),function(){switch(typeof i.from){case"undefined":return e[c];case"number":return l?s+i.from:i.from;case"function":return i.from(e[c]);default:throw new Error("gradient axis type error:\ncurrentAxis.from is "+i.from+" (type: "+typeof i.from+")\ntype must be\n* 'undefined' (to default to the root value)\n* 'number'    (for absolute values) or\n* 'function'  (for values relative to the root value).")}}()]});r[c]=u},i=0;i<t.length;i++)a(i);return r}function m(e,n,t){for(var a=n.steps,o=n.axes,i=n.prefer,c=[],l=0;l<a.length;l++){var s=v(e,a[l],o),u=g(r({},e,s,{prefer:i,tuner:t}));c.push(u)}return c}var x=function(e){var n=e.R,t=e.G,r=e.B;return{hue:b({R:n,G:t,B:r}),sat:p({R:n,G:t,B:r}),lum:h({R:n,G:t,B:r})}},j=function(e){var n=i.process(e),t=function(e){return parseInt(n.substr(2*e+1,2),16)};return{R:t(0),G:t(1),B:t(2)}},O=function(e){var n=j(e),t=n.R,r=n.G,a=n.B,o=x({R:t,G:r,B:a});return{hue:o.hue,sat:o.sat,lum:o.lum}};function w(e){var n=e.palettes,t=e.hexes,a=e.ops,o=e.place,i=(o=void 0===o?[0,null,null]:o)[0],c=o[1],l=o[2];if(!Array.isArray(n)||0===n.length)throw new Error("Must provide at least one palette");var s=[].concat(n),d=s[i],b=c?d.states[c]:null,p=l?b.elements[l]:null,h=p||b||d,f=p?b:d;if(!f&&0===t.length)throw new Error("Must provide at least one hex");f.color||(f.color=O(t[0]));for(var g=r({},f.color),v=Object.entries(a),m=0;m<v.length;m++){var x=v[m],j=x[0],y=x[1];switch(j){case"color":switch(typeof y){case"number":g=O(t[y]);break;case"string":t.unshift(y),g=O(y);break;default:throw new Error("'color' accepts types 'string' or 'number'; got type '"+typeof y+"'")}break;case"hue":case"sat":case"lum":switch(typeof y){case"number":g[j]=y;break;case"function":g[j]=y(g[j]);break;default:throw new Error("hue, sat, lum accept types 'number' or 'function'; got type '"+typeof y+"'")}break;case"contrast":switch(y){case"hard":g.lum=g.lum>.67?0:1;break;case"soft":g.lum=g.lum>.67?.05:.95;break;case"harden":g.lum=g.lum>.67?0:1;break;default:throw new Error("'contrast' accepts 'hard' or 'soft'; got '"+y+"'")}g.prefer="lum";break;case"split":case"trine":case"tetra":break;case"warm":case"cool":break;case"amp":case"mute":break;case"tint":case"shade":var k=g.sat/255,E=(.5*(1-k)+u(g.hue)*k)*y/("tint"===j?100:-100);g.lum+=E,(g.lum<0||g.lum>1)&&(g.lum-=2.5*E),g.prefer="lum";break;case"holds":for(var H=Object.entries(y),I=0;I<H.length;I++){for(var C=H[I],S=C[0],T=C[1],R={},_=Object.entries(d.states.base.elements),A=0;A<_.length;A++){var P=_[A],D=P[0],N=P[1];R["ex-"+D]=N}s.push({id:S,color:s[0].color,states:{base:{id:"base",elements:R}}}),s=w({palettes:s,hexes:t,ops:T,place:[s.length-1,null,null]})}break;case"state":var z=Object.entries(y);if(p)for(var M=0;M<z.length;M++){var B=z[M],L=B[0],G=B[1],U=d.states[L];U.elements[l]||(U.elements[l]={}),d.states[L].elements[l].hex=w({palettes:n,hexes:t,ops:G,place:[i,L,l]})}else for(var F=0;F<z.length;F++){var W=z[F],K=W[0],Y=W[1];d.states[K]={id:K,elements:{}},d.states[K].color=w({palettes:n,hexes:t,ops:Y,place:[i,K,null]})}break;default:for(var X=j,J=Object.keys(d.states),Z=0;Z<J.length;Z++){var V=J[Z],$=d.states[V];$.elements[X]={id:X},$.elements[X].color=w({palettes:n,hexes:t,ops:y,place:[i,V,X]})}}h.color=g,b||(h.states.base.color=g)}return p||b?g:s}function y(e,n){for(var t="",a=Object.entries(e.states.base.elements),o=0;o<a.length;o++){var i=a[o],c=i[0],l=i[1];t+="  --"+c+"-color: "+g(r({},l.color,{tuner:n}))+";\n"}for(var s=Object.entries(e.states),u=0;u<s.length;u++){var d=s[u],b=d[0],p=d[1];switch(b){case"hover":t+="  &:hover, &:focus, &:focus-within {\n";break;case"active":t+="  &:active, &.active {\n";break;case"disabled":t+="  &:disabled, &.disabled {\n";break;default:continue}for(var h=Object.entries(p.elements),f=0;f<h.length;f++){var v=h[f],m=v[0],x=v[1];t+="    --"+m+"-color: "+g(r({},x.color,{tuner:n}))+";\n"}t+="  }\n"}return t}var k=function(e){return{id:e,states:{base:{elements:{}}}}};var E=[{hue:20,name:"orange"},{hue:45,name:"yellow"},{hue:61,name:"citron"},{hue:80,name:"lime"},{hue:100,name:"green"},{hue:150,name:"teal"},{hue:180,name:"cyan"},{hue:200,name:"blue"},{hue:240,name:"indigo"},{hue:270,name:"violet"},{hue:290,name:"magenta"},{hue:330,name:"pink"},{hue:350,name:"red"}];n.CHANNEL_SPECIFIC_LUM=s,n.HUE_STRUCTURES={none:[],polar:[180],split:[150,210],trine:[120,240],square:[90,180,270]},n.builtInTunerKit={noFilter:[{sat:255,hue:0},{sat:255,hue:360}],simulateCMYK:[{sat:255,hue:55},{sat:127,hue:120},{sat:255,hue:200},{sat:255,hue:205},{sat:170,hue:240},{sat:230,hue:270},{sat:210,hue:300},{sat:255,hue:320}]},n.channelsToSpec=x,n.funnel=a,n.getOffset=function(e){for(var n=e.hex,t=e.tuner,a=e.offsets,o=O(n),i={},c=0;c<a.length;c++){var l=a[c],s=l.attribute,u=l.offsetValue,d=o[s],b=o.sat,p=void 0;switch(s){case"hue":case"sat":p=d+u;break;case"lum":p=u+d<0||u+d>1?d-1.67*(u-(b>=170?u*(b-170)/85:0)):d+(u-(b>=170?.333*u*(b-170)/85:0));break;default:throw new Error('Received spec attribute other than "hue," "sat," or "lum."')}i[s]=p}return g(r({},o,i,{prefer:"lum",tuner:t}))},n.getStandout=function(e){return O(e).lum>.666?"black":"white"},n.gradientsToHexArrays=function(e,n){for(var t=e.gradients,r={hue:e.hue,sat:e.sat,lum:e.lum},a=[],o=0;o<t.length;o++){var i=m(r,t[o],n);a.push(i)}return a},n.hardContrast=function(e){return O(e).lum>.666?"black":"white"},n.hexToChannels=j,n.hexToSpec=O,n.hueFromChannels=b,n.hueToRelativeChannels=l,n.interpolate=o,n.lumFromChannels=h,n.maxSatForHueFromTuner=d,n.nameHue=function(e){console.log("||| hue",e);for(var n=c(e,[0,360]),t=-1,r=0;r<E.length;t++,r++){var a=(t=c(t,[0,E.length]))>r?c(n,[-180,180]):void 0,o=E[t],i=E[r],l=t>r?c(o.hue,[-180,180]):o.hue,s=i.hue;if((a||n)>=l&&(a||n)<s)return console.log("||| hue",e,"is between",o.hue,"and",i.hue,"therefore it is named",o.name),o.name}},n.satFromChannels=p,n.scheme=function(e){for(var n=e.hexes,t=e.scheme,r=e.tuner,a=Object.entries(t),o=[],i=0;i<a.length;i++){var c=a[i],l=c[0],s=c[1],u=w({palettes:[k(l)],hexes:n,ops:s});o=[].concat(o,u)}return function(e,n){for(var t={},r=0;r<e.length;r++){var a=e[r];t[a.id]=y(a,n)}return t}(o,r)},n.schemes={trifactory:{PaletteModule:{color:0,bg:{},mg:{shade:10},fg:{contrast:"soft"},holds:{Control:{state:{hover:{},active:{},disabled:{}},bg:{shade:24,state:{base:{},hover:{shade:18},active:{shade:32},disabled:{shade:32}}},mg:{shade:48},fg:{contrast:"soft",state:{hover:{contrast:"harden"},active:{contrast:"harden"},disabled:{shade:20}}}}}}}},n.softContrast=function(e,n){var t=O(e),a=t.lum>.666?.05:.95;return g(r({},t,{lum:a,prefer:"lum",tuner:n}))},n.specToHex=g,n.specToHexFixLimit=f,n.specificLumFromHue=u,n.validateHex=i,n.wrapAround=c},51:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(16),i=t.n(o),c=(t(38),t(6)),l=t(21),s=t(7),u=t(5),d=t(3);function b(e){return Math.floor(Math.random()*Math.floor(e))}function p(e,n,t){for(var r,a=e,o=(e,t)=>e.name===a&&t!==n,i=2;t.some(o);i++)r=i,a="".concat(e,"_").concat(r);return a}var h=(e,n,t,r)=>{var a=t=>{var a=[...e],o=t.targetIdx,i=t.content,c=a[o],l=((e,n,t)=>{var r={},a=e.hue,o=n.linkedToHue,i=!n.hueIsLinked;a&&o&&i&&(r.linkedToHue=null);var c=e.linkedToHue;return c&&!a&&(r.hue=Object(u.wrapAround)(t.find(e=>e.name===c).angle,[0,360])),null===c&&(r.hueIsLinked=!1),r})(i,c,r),s=Object(d.a)(Object(d.a)({},i),l),b=Object(d.a)({},c.history),p=b.marker,h=b.timeline;switch(t.fromHistory){case"undo":p+=1;break;case"redo":p-=1;break;default:for(var f={},g=Object.keys(s),v=0;v<g.length;v++){var m=g[v];f[m]=c[m]}var x={undo:f,redo:Object(d.a)(Object(d.a)({},i),l)};h.splice(0,p,x),p=0}b.timeline=h,b.marker=p;var j=Object(d.a)(Object(d.a)(Object(d.a)({},c),s),{},{history:b});a.splice(o,1,j),n(a)},o=(n,t)=>{var r=e[n].history,o=r.timeline,i=r.marker,c="undo"===t?i:i-1;"undefined"!==typeof o[c]&&a({targetIdx:n,content:o[c][t],fromHistory:t})};return[a,e=>{for(var n=0;n<e.length;n++){var t=e[n];a(t)}},e=>o(e,"undo"),e=>o(e,"redo"),r=>{var a={hue:r.angle,sat:b(256),lum:Math.random(),prefer:"sat"},o=Object(u.specToHexFixLimit)(Object(d.a)(Object(d.a)({},a),{},{tuner:t})).fix,i=Object(d.a)(Object(d.a)(Object(d.a)({},a),o),{},{id:Math.random(),hueIsLinked:!0,linkedToHue:r.name,history:{marker:0,timeline:[]},gradients:[]}),c=[...e,i];n(c)},t=>{var r=[...e];r.splice(t,1),n(r)}]},f=t(2),g=t(8);function v(){var e=Object(f.a)(["\nheight: 100px;\nmargin-bottom: 20px;\n> button {\n  background: ",";\n  height: 100px;\n  width: 100px;\n  border-radius: 100%;\n  border: 2px solid white;\n  cursor: pointer;\n}\n"]);return v=function(){return e},e}function m(){var e=Object(f.a)(["\nflex-grow: 1;\n"]);return m=function(){return e},e}function x(){var e=Object(f.a)(["\ndisplay: flex;\n> * + * { margin-left:10px }\n"]);return x=function(){return e},e}function j(){var e=Object(f.a)(["\ndisplay: flex;\nflex-grow: 0;\ngrid-area: ",";\n> * + * { margin-left: 2px }\n"]);return j=function(){return e},e}function O(){var e=Object(f.a)(["\ndisplay: inline-flex;\nwidth: 100%;\nheight: 100px;\nmargin-bottom: ","\n"]);return O=function(){return e},e}function w(){var e=Object(f.a)(["\nbackground-color: #111;\ntext-align: center;\nmin-height: calc(100vh - 10vw + 40px);\nwidth: 100vw;\npadding: calc(5vw - 20px) 0;\n> section { \n  width: 90vw;\n  padding: 20px;\n  margin: auto;\n  > * + * { margin-top: 10px; }\n}\n> section + section { margin-top: calc(5vw - 20px); }\n"]);return w=function(){return e},e}function y(){var e=Object(f.a)([""]);return y=function(){return e},e}function k(){var e=Object(f.a)(["\nul { \n  list-style-type: none;\n  display: flex;\n  margin-block-start: 0;\n  margin-block-end: 0;\n  margin-inline-start: 0;\n  margin-inline-end: 0;\n  padding-inline-start: 0;\n  > li {\n    padding: 10px;\n    color: white;\n    a {\n      text-decoration: solid underline white 1px;\n      text-underline-offset: .5px;\n      &:active, &:visited { \n        color: white;\n      } \n    } \n  }\n}\n"]);return k=function(){return e},e}var E=g.a.nav(k()),H=(g.a.div(y()),g.a.div(w())),I=g.a.div(O(),e=>e.shadeRange?"-10px":"0px"),C=g.a.div(j(),e=>e.gridArea),S=(g.a.div(x()),g.a.div(m()),g.a.div(v(),e=>e.hex),t(1)),T=t(13),R=t(24),_=t.n(R);function A(e,n="",{serialize:t=JSON.stringify,deserialize:a=JSON.parse}={}){var o=Object(r.useState)(()=>{var t=window.localStorage.getItem(e);return t?a(t):"function"===typeof n?n():n}),i=Object(c.a)(o,2),l=i[0],s=i[1],u=Object(r.useRef)(e);return Object(r.useEffect)(()=>{var n=u.current;n!==e&&window.localStorage.removeItem(n),u.current=e,window.localStorage.setItem(e,t(l))},[e,t,l]),[l,s]}function P(){var e=Object(f.a)(["\n  border: 1px solid lightgrey;\n  border-radius: 2px;\n  padding: 8px;\n  margin-bottom: 8px;\n  background-color: ",";\n"]);return P=function(){return e},e}g.a.div(P(),e=>e.isDragging?"#00ff00ee":"#ffffffee");function D(){var e=Object(f.a)(["\n  padding: 8px;\n  transition-property: background height;\n  transition-duration: 0.2s;\n  transition-timing-function: ease;\n  background: ",";\n  flex-grow: 1;\n  min-height: 100px;\n"]);return D=function(){return e},e}function N(){var e=Object(f.a)(["\n  color: white;\n  font-weight: 200;\n  padding: 8px;\n"]);return N=function(){return e},e}function z(){var e=Object(f.a)(["\n  margin: 8px;\n  border: 1px solid lightgrey;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: column;\n"]);return z=function(){return e},e}var M=g.a.div(z()),B=g.a.h3(N());g.a.div(D(),e=>e.isDraggingOver?"#00ffff99":"white");function L({structure:e,index:n}){var t=e.id,r=(e.direction,e.locked,e.type),o=e.content;switch(r){case"strip":return a.a.createElement(T.b,{draggableId:t,index:n},e=>a.a.createElement(M,Object.assign({},e.draggableProps,{ref:e.innerRef}),a.a.createElement(B,e.dragHandleProps,t),a.a.createElement(T.c,{droppableId:t,direction:"horizontal",type:"ui"},e=>a.a.createElement(M,Object.assign({},e.droppableProps,{ref:e.innerRef}),o.map((e,n)=>a.a.createElement(L,{key:e.id,index:n,structure:e})),e.placeholder))));case"stack":return a.a.createElement(T.b,{draggableId:t,index:n},e=>a.a.createElement(M,Object.assign({},e.draggableProps,{ref:e.innerRef}),a.a.createElement(B,e.dragHandleProps,t),o.map((e,n)=>a.a.createElement(L,{key:e.id,index:n,structure:e})),e.placeholder));case"terminal":return a.a.createElement(T.b,{draggableId:t,index:n},e=>a.a.createElement(M,Object.assign({},e.draggableProps,{ref:e.innerRef}),a.a.createElement(B,e.dragHandleProps,t)));default:throw new Error("oops")}}var G={terminals:{"<color_editor_id_1>":{id:"<color_editor_id_1>",subject:"<color_id_1>"},"<color_editor_id_2>":{id:"<color_editor_id_2>",subject:"<color_id_5>"},"<color_editor_id_3>":{id:"<color_editor_id_3>",subject:"<color_id_6>"}},layout:{id:"<root>",direction:"x",locked:!0,type:"root",content:[{id:"<strip_id_1>",type:"strip",direction:"x",content:[{id:"<color_editor_id_1>",type:"terminal"},{id:"<stack_id_1>",type:"stack",content:[{id:"<color_editor_id_2>",type:"terminal"},{id:"<color_editor_id_3>",type:"terminal"}]}]}]}};function U(){var e=Object(f.a)(["\n  display: flex;\n  width: 100%;\n"]);return U=function(){return e},e}var F=g.a.div(U());function W(){var e,n,t=A("ui",G),r=Object(c.a)(t,2),a=r[0],o=r[1],i=(n=o,[e=a,t=>{var r=t.destination,a=t.source,o=t.draggableId,i=t.type;if(r&&(r.droppableId!==a.droppableId||r.index!==a.index))if("column"!==i){var c=e.columns[a.droppableId],l=e.columns[r.droppableId];if(c!==l){var s=Array.from(c.taskIds);s.splice(a.index,1);var u=Object(d.a)(Object(d.a)({},c),{},{taskIds:s}),b=Array.from(l.taskIds);b.splice(r.index,0,o);var p=Object(d.a)(Object(d.a)({},l),{},{taskIds:b}),h=Object(d.a)(Object(d.a)({},e),{},{columns:Object(d.a)(Object(d.a)({},e.columns),{},{[u.id]:u,[p.id]:p})});n(h)}else{var f=_()(c.taskIds,a.index,r.index),g=Object(d.a)(Object(d.a)({},c),{},{taskIds:f}),v=Object(d.a)(Object(d.a)({},e),{},{columns:Object(d.a)(Object(d.a)({},e.columns),{},{[g.id]:g})});n(v)}}else{var m=_()(e.columnOrder,a.index,r.index);n(Object(d.a)(Object(d.a)({},e),{},{columnOrder:m}))}}]);return Object(S.b)(T.a,{onDragEnd:i},Object(S.b)(T.c,{droppableId:"root",direction:"horizontal",type:"ui"},e=>Object(S.b)(F,Object.assign({},e.droppableProps,{ref:e.innerRef}),a.layout.content.map((e,n)=>Object(S.b)(L,{key:e.id,index:n,structure:e})),e.placeholder)))}function K(){var e=Object(f.a)(["\n  &:hover,\n  &.focus,\n  &:focus,\n  &:focus-within {\n    transform: scale(1.02);\n  }\n  &.active,\n  &:active {\n    transform: scale(0.98);\n  }\n  &.disabled,\n  &:disabled {\n    &:hover,\n    &.focus,\n    &:focus,\n    &:focus-within {\n    transform: none;\n    }\n    &:active, \n    &.active {\n      transform: none;\n    }\n  }\n"]);return K=function(){return e},e}var Y=Object(S.a)(K());function X(){var e=Object(f.a)(["\n  ","\n  transform: rotate(-90deg);\n  &:hover, \n  &.focus,\n  &:focus,\n  &:focus-within {\n    transform: rotate(-90deg) scale(1.02);\n  }\n  &:active, \n  &.active {\n    transform: rotate(-90deg)scale(0.98);\n  }\n"]);return X=function(){return e},e}function J(){var e=Object(f.a)(["\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  text-decoration: none;\n  border: 0;\n  padding: 0;\n  user-select: none;\n  cursor: pointer;\n  color: var(--fg-color);\n  background-color: var(--bg-color);\n  position: relative;\n  display: inline-flex;\n  font-weight: 500;\n  font-size: 16px;\n  box-shadow: 0 0 1px rgba(0, 0, 0, 0);\n  transition: box-shadow transform background-color;\n  transition-duration: 0.1s;\n  transition-timing-function: ease-in;\n  transform-origin: center center;\n  &:hover,\n  &.focus,\n  &:focus,\n  &:focus-within {\n    box-shadow: 0 0px 0px 2px var(--fg-color);\n    outline: none;\n    z-index: 1000;\n  }\n  &:active, \n  &.active {\n    transition-duration: 0.03s;\n  }\n  &.disabled,\n  &:disabled {\n    color: var(--bg-color);\n    cursor: not-allowed;\n    background: none;\n    &:hover,\n    &.focus,\n    &:focus,\n    &:focus-within {\n    box-shadow: none; // 0 0px 0px 2px var(--bg-color);\n    outline: none;\n    }\n  }\n  .text {\n    margin-left: 0;\n    margin-right: 12px;\n    line-height: 1em;\n  }\n"]);return J=function(){return e},e}var Z=Object(S.a)(J());Object(S.a)(X(),Z);function V(){var e=Object(f.a)([" \n  ",";\n  ",';\n  display: flex;\n  justify-content: center;\n  appearance: none;\n  background: var(--ex-bg-color);\n  color: var(--fg-color);\n  outline: none;\n  border: none;\n  &::after {\n    content: "";\n    position: absolute;\n    top: -1px;\n    right: -1px;\n    width: calc(100% + 2px);\n    height: calc(100% + 2px);\n    box-sizing: border-box;\n    transition-property: border;\n    transition-duration: .05s;\n    transition-timing-function: ease-out;\n  }\n  &:disabled {\n    background: var(--bg-color);\n    opacity: 50%;\n    &:hover,\n    &.focus,\n    &:focus,\n    &:focus-within {\n      background: var(--bg-color);\n      color: var(--fg-color);\n    }\n  }\n  &:hover,\n  &.focus,\n  &:focus,\n  &:focus-within {\n    box-shadow: none;\n    color: var(--bg-color);\n    background: var(--fg-color);\n  } \n  &.active,\n  &:active {\n    transform: none;\n    &::after {\n      border: 3px solid var(--bg-color);\n    }\n  }\n']);return V=function(){return e},e}var $=Object(S.a)(V(),Z,Y);function q(){var e=Object(f.a)([" \n  ",";\n  ",";\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  input[type=checkbox] { // hide the box itself\n    cursor: pointer;\n    grid-area: status;\n    opacity: 0;\n    margin: 0px;\n    &:disabled {\n      cursor: not-allowed;\n      pointer-events: none;\n      ~ .icon {\n        color: var(--fg-color);\n        opacity: 0.3;\n        &:hover { color: var(--fg-color); }\n      }\n      ~ .box { opacity: 0.2; }\n      &.active, &:active, &:checked {\n        ~ .icon {\n          color: var(--fg-color);\n          opacity: 0.3;\n        }\n      }\n      &.active, &:active {\n        ~ .box {\n          border-width: 0px;\n        }\n      }\n    }\n    &:checked {\n      ~ .icon {\n        color: var(--bg-color);\n        &.check {\n          transform: scale(1);\n          opacity: 1;\n        }\n      }\n    }\n  }\n  .box, .icon, .title { \n    pointer-events: none;\n  }\n  .box, .icon { \n    grid-area: status;\n  }\n  .title {\n    grid-area: label;\n    display: inline-flex;\n    align-items: center;\n    white-space: nowrap;\n  }\n  .box {\n    background-color: var(--ex-bg-color);\n    border-color: var(--fg-color);\n    border-style: solid;\n    border-width: 0px;\n    box-sizing: border-box;\n    transition: border-width 0.05s;\n  }\n  .icon.check {\n    opacity: 0;\n    transform: scale(0.75);\n    transform-origin: center;\n    transition: transform 0.1s;\n }\n"]);return q=function(){return e},e}var Q=Object(S.a)(q(),Z,Y);function ee(){var e=Object(f.a)(['\noverflow: visible;\n.label-wrap {\n  pointer-events: none;\n  display: flex;\n  height: 20px;\n  width: 100%;\n  position: absolute;\n  justify-content: center;\n  align-content: center;\n  opacity: 0;\n  transition: transform 0.15s ease-in, opacity 0.05s .1s;\n  z-index: 100;\n  label {\n    display: flex;\n    justify-content: center;\n    position: absolute;\n    height: 20px;\n    padding: 0 5px;\n    background-color: var(--fg-color);\n    color: var(--bg-color);\n    font-size: 16px;\n    font-weight: 500;\n    white-space: nowrap;\n    &::before {\n      content: "";\n      z-index: -1;\n      height: 5px;\n      width: 5px;\n      position: absolute;\n      bottom: -8px;\n      width: 0; \n      height: 0; \n      border-left: 10px solid transparent;\n      border-right: 10px solid transparent;\n      border-top: 10px solid var(--fg-color);\n    }\n  }\n  &.above {\n    transform: perspective(500px) rotateX(30deg) translateY(2px);\n    top: -32px;\n  }\n  &.above-left {\n    transform: perspective(500px) rotateX(30deg) translateY(2px);\n    top: -30px;\n    justify-content: flex-start;\n    label:before {\n      left: -5px;\n      bottom: -5px;\n      transform: perspective(500px) rotateZ(90deg)\n    }\n  }\n  &.right {\n    transform: perspective(500px) rotateY(10deg) translateX(2px);\n    transform-origin: calc(0% - 5px) 50%;\n    right: calc(-100% - 10px);\n    justify-content: flex-start;\n    label:before {\n      left: -12px;\n      bottom: 5px;\n      transform: rotateZ(90deg);\n    }\n  }\n  &.left {\n    transform: perspective(500px) rotateY(-10deg) translateX(-2px);\n    transform-origin: calc(100% + 5px) 50%;\n    left: calc(-100% - 10px);\n    justify-content: flex-end;\n    label:before {\n      right: -12px;\n      bottom: 5px;\n      transform: rotateZ(270deg);\n    }\n  }\n}\n&:hover,\n&.focus,\n&:focus,\n&:focus-within {\n  .label-wrap {\n    opacity: 1;\n    transition: transform 0.15s ease-in, opacity 0.1s .05s;\n    &.above, &.above-left {\n      transform: perspective(500px) translateY(0px);\n    }\n    &.right, &.left {\n      transform: perspective(500px) translateX(0px);\n    }\n  }\n}\n']);return ee=function(){return e},e}var ne=Object(S.a)(ee());function te(){var e=Object(f.a)(["\noverflow: visible;\ndisplay: flex;\n* {\n  transition-property: all;\n  transition-duration: .1s;\n  transition-timing-function: ease-in;\n}\n.icon {\n  pointer-events: none;\n  z-index: 1002;\n  font-size: 13.5px; \n  font-variation-settings: 'wght' 300;\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  height: 100%;\n}\n> .blocker {\n    z-index: 10;\n    position: absolute;\n    width: 100vw;\n    height: 100vh;\n    top: 0px;\n    left: 0px;\n}\n> .spaceholder {\n  user-select: none;\n  padding-left: 10px;\n  padding-right: 36px;\n  text-align: left;\n  overflow: hidden; pointer-events: none; opacity: 0;\n  }\n> .select {\n  ",";\n  ",";\n  ","\n  background: none;\n  display: inline-flex;\n  position: absolute;\n  > .option-list-window {\n    position: relative;\n    overflow: hidden;\n    > .option-list {\n      position: relative;\n      > .option {\n        ",";\n        display: flex;\n        justify-content: flex-start;\n        align-items: center;\n        padding-left: 10px;\n        padding-right: 36px;\n        background-color: var(--bg-color);\n        white-space: nowrap;\n        //opacity: .88;\n      }\n    }\n  }\n  &::-ms-expand {\n    display: none;\n  }\n\n}\n"]);return te=function(){return e},e}var re=Object(S.a)(te(),Z,Y,ne,$);function ae(){var e=Object(f.a)(["\n  ",';\n  > select {\n    cursor: pointer;\n    margin-left: 10px;\n    color: var(--fg-color);\n    width: 150px;\n    font-size: 16px;\n    font-weight: 600;\n    display: inline-flex;\n    background: none;\n    border: 0px solid #000;\n    border-radius: 0px;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    &:hover,\n    &:focus {\n      outline: none;\n    }\n    option {\n      font-weight: normal;\n    }\n  }\n  &::after {\n    content: "";\n    pointer-events: none;\n    position: absolute;\n    border-left: 3px solid var(--fg-color);\n    border-bottom: 3px solid var(--fg-color);\n    height: 7px;\n    width: 7px;\n    right: 13px;\n    top: 11px;\n    transform: rotate(-45deg);\n  }\n  &::-ms-expand {\n    display: none;\n  }\n  &:hover {\n    overflow: visible;\n    label {\n      transform: translateY(-15px) scaleY(1);\n      opacity: 1;\n    }\n  }\n']);return ae=function(){return e},e}Object(S.a)(ae(),Z);function oe(){var e=Object(f.a)(["\ndisplay: grid;\n"]);return oe=function(){return e},e}var ie=Object(S.a)(oe());function ce(){var e=Object(f.a)(["\n&:hover,\n&.focus,\n&:focus,\n&:focus-within {\n  &:active { // does not apply to .active\n    transform: scale(1.02); // stay at expanded size\n    &.disabled,\n    &:disabled {\n      transform: scale(1);\n    }\n  }\n}\n"]);return ce=function(){return e},e}var le=Object(S.a)(ce());function se(){var e=Object(f.a)(["\n  ",";\n  ","\n  ",";\n  ",';\n  display: inline-flex;\n  &:hover,\n  &.focus,\n  &:focus,\n  &:focus-within { .range-wrapper {\n    .range .track {\n      opacity: 1;\n      .thumb { \n      background: none;\n    }\n  }\n    input[type=range] {\n      &::-webkit-slider-thumb {\n          opacity: 1;\n          transform: scaleY(1.01);\n        }\n      &::-moz-range-thumb {\n        border: none;\n        opacity: 1;\n        transform: scaleY(1.01);\n      }\n    }\n  }}\n  &.disabled,\n  &:disabled {\n    background-color: var(--bg-color);\n    &:hover,\n    &.focus,\n    &:focus,\n    &:focus-within { \n      .range-wrapper .range .track .thumb { \n        background: var(--mg-color); \n//        .label {opacity: 1;}\n      }\n      .range-wrapper input[type=range] {\n        &::-webkit-slider-thumb { opacity: 0; }\n        &::-moz-range-thumb { opacity: 0; }\n      } \n    }\n    input[type=number] { \n      opacity: 80%;\n    }\n    .range-wrapper  .range .track, \n    input[type=number] { \n      background: #00000000; \n    }\n    .range-wrapper input[type=range],\n    input[type=number] { \n      cursor: not-allowed; \n      &::-webkit-slider-thumb {  cursor: not-allowed; }\n      &::-moz-range-thumb { cursor: not-allowed; }\n      &:hover,\n      &.focus,\n      &:focus,\n      &:focus-within {\n        &::-webkit-slider-thumb { background: var(--mg-color); }\n        &::-moz-range-thumb { background: var(--mg-color); }\n      }\n    }\n  }\n  .range-wrapper {\n    flex-grow: 1;\n    display: grid;\n    grid-template: \n      [row1-start] "content" auto [row1-end]\n      /             auto;    \n    input[type=range] {\n      cursor: pointer;\n      z-index: 10;\n      grid-area: content;\n      margin: 0px;\n      appearance: none;\n      outline: none;\n      border-radius: 0;\n      background: #00000000;\n      // opacity: .2;\n      &::-webkit-slider-thumb {\n        -webkit-appearance: none;\n        cursor: grab;\n        appearance: none;\n        opacity: 0;\n        border: none;\n        width: 20px;\n        background: var(--mg-color);\n      }\n      &::-moz-range-thumb {\n        cursor: grab;\n        border-radius: 0px;\n        opacity: 0;\n        width: 20px;\n        background: var(--mg-color);\n      }\n      &:hover,\n      &.focus,\n      &:focus,\n      &:focus-within {\n        &::-webkit-slider-thumb { background: var(--fg-color); }\n        &::-moz-range-thumb { background: var(--fg-color); }\n      }\n    }\n    .range {\n      cursor: not-allowed;\n      width: 100%;\n      grid-area: content;\n      .track {\n        pointer-events: none;\n        overflow-x: visible;\n        transition: all 0.33s ease-out;\n        background-color: var(--ex-bg-color);\n        opacity: .75;\n        // box-shadow: 0 0px 0px 1px var(--fg-color);\n        .thumb { \n          background: var(--mg-color);\n          overflow: visible;\n          transition: margin 0.33s ease-out;\n          opacity: 1;\n        }\n      }\n    }\n  }\n  input[type=number] {\n    border: none;\n    border-radius: 0;\n    color: var(--ex-fg-color);\n    background-color: var(--ex-bg-color);\n    font-weight: 500;\n    font-size: 15px;\n    margin: 3px;\n    margin-left: 0;\n    padding: 0;\n    padding-left: 7px;\n    &:hover,\n    &.focus,\n    &:focus,\n    &:focus-within {\n      box-shadow: 0 0 0 0;\n      outline: none;\n    }\n  }\n  button {\n    ',"\n    margin: 3px;\n    &:disabled {\n      color: var(--fg-color);\n    }\n    .icon { \n      font-size: 13.5px; \n      font-variation-settings: 'wght' 300;\n    }\n  }\n"]);return se=function(){return e},e}var ue=Object(S.a)(se(),Z,ne,Y,le,$);function de(){var e=Object(f.a)(["\n  ","\n  ","\n  grid-area: switch;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n  * { cursor: pointer; }\n  input[type=checkbox] {\n    -webkit-appearance: none;\n    grid-area: switch;\n    opacity: 0;\n    border: none;\n    margin: none;\n    &:checked ~ .switch { \n      background-color: var(--fg-color);\n    }\n  }\n  input[type=range] {\n    -webkit-appearance: none;\n    grid-area: switch;\n    margin: 0px;\n    appearance: none;\n    outline: none;\n    border-radius: 0;\n    &:disabled {\n      display: none;\n      pointer-events: none;\n    }\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      appearance: none;\n      border: none;\n      transition: transform 0.05s;\n      opacity: 0;\n    }\n    &::-moz-range-thumb {\n      border-radius: 0px;\n      transition: transform 0.05s;\n      opacity: 0;\n    }\n  }\n  .switch {\n    pointer-events: none;\n    grid-area: switch;\n    overflow: hidden;\n    background-color: var(--mg-color);\n    .thumb {\n      background: var(--ex-bg-color);\n      margin: 2px;\n      transition-property: all;\n      transition-duration: 0.1s;\n      transition-timing-function: ease-out;\n    }\n  }\n  &.disabled {\n    div input[type=range] { \n      display: none; \n      pointer-events: none;\n    }\n  }\n"]);return de=function(){return e},e}var be=Object(S.a)(de(),Z,ne);function pe(){var e=Object(f.a)(["\n  ",";\n  ",";\n  ","\n  ","\n  display: flex;\n  justify-content: left;\n  overflow: visible;\n  input[type=text] {\n    width: 10px;\n    color: var(--fg-color);\n    display: flex;\n    flex-grow: 1;\n    flex-shrink: 1;\n    background: none;\n    font-size: 20px;\n    border: none;\n    padding: 0px;\n    padding-left: 10px;\n    box-shadow: 0 0 0 0px;\n    outline: none;\n    &::-moz-selection {\n      color: var(--mg-color);\n      background: var(--fg-color);\n    }\n    &::selection {\n      color: var(--mg-color);\n      background: var(--fg-color);\n    }\n    > div { height: 30px; }\n  }\n  .front-matter {\n    display: flex;\n    font-size: 20px;\n    border: none;\n    padding-left: 10px;\n    align-items: center;\n    cursor: default;\n  }\n  .buttons {\n    display: inline-flex;\n    width: auto;\n    flex-grow: 0;\n    flex-basis: content;\n    min-width: 0px;\n    justify-content: flex-end;\n    button { \n      "," \n      display: inline;\n      margin: 3px;\n      overflow: hidden;\n      margin-right: 0px;\n    }\n  }\n"]);return pe=function(){return e},e}var he=Object(S.a)(pe(),Z,Y,ne,le,$);function fe(){var e=Object(f.a)(["\n        ",";\n        ",";\n        grid-template: ",";\n      "]);return fe=function(){return e},e}function ge(){var e=Object(f.a)(["\n        gap: ","px;\n      "]);return ge=function(){return e},e}function ve(){var e=Object(f.a)(["\n        column-gap: ","px;\n        row-gap: ","px;\n      "]);return ve=function(){return e},e}function me({children:e,gap:n,gridTemplate:t}){var r="object"===typeof n?Object(S.a)(ve(),n[0],n[1]):Object(S.a)(ge(),n);return Object(S.b)("div",{css:Object(S.a)(fe(),ie,r,t)},e)}function xe(){var e=Object(f.a)(["\ndisplay: inline-flex;\nfont-family: Icon;\nfont-variation-settings: 'wght' 200;\nfont-size: 18px;\nline-height: 30px;\nalign-items: center;\njustify-content: center;\n"]);return xe=function(){return e},e}var je=Object(S.a)(xe());function Oe(){var e=Object(f.a)(["\n        ",";\n        grid-area: ",";\n      "]);return Oe=function(){return e},e}var we={auto:"s",check:"c",close:"x",divot:"v",go:"l",minus:"-",plus:"+",redo:"r",reset:"u",right:"r",undo:"u"};function ye({value:e,gridArea:n=e}){var t=we[e];return Object(S.b)("div",{className:"icon ".concat(e),css:Object(S.a)(Oe(),je,n)},t)}function ke({text:e,place:n}){return Object(S.b)("div",{className:"\n      label-wrap\n      ".concat(n||"","\n    ")},Object(S.b)("label",null,e))}function Ee(){var e=Object(f.a)(["\n        ","\n        ","\n        .icon { \n          height: ","px;\n          width:  ","px;\n          opacity: ",";\n        }\n        > .blocker {\n          ","\n        }\n        > .spaceholder {\n          width: ",";\n          height: ","px;\n        }\n        > .select {\n          width: ",";\n          z-index: ",";\n          height: auto;\n          margin-top: -","px;\n          > .option-list-window {\n            height: ","px;\n            min-height: ","px;\n            width:  ",";\n            > .option-list {\n              height: auto;\n              width:  ",";\n              top: -","px;\n              > .option {\n                width: ",";\n                min-height: ","px;\n                pointer-events: ",";\n              }\n            }\n          }\n        }\n      "]);return Ee=function(){return e},e}var He={height:36,width:null};function Ie({label:e="Label",handler:n=console.log("no setter passed to colorPicker ".concat(e)),options:t,disabled:a=0===t.length,valueProvided:o,dimensions:i,cssExtra:l}){var s=((e,n)=>{var t=n.find(n=>n.value===e);return n.indexOf(t)})(o,t),b=Object(d.a)(Object(d.a)({},He),i),p=b.height,h=b.width,f=h?"".concat(h,"px"):"auto",g=Object(r.useState)({value:o,index:s}),v=Object(c.a)(g,2),m=v[0],x=v[1],j=Object(r.useState)(!1),O=Object(c.a)(j,2),w=O[0],y=O[1],k=Object(r.useState)(!1),E=Object(c.a)(k,2),H=E[0],I=E[1];Object(r.useEffect)(()=>{x({value:o,index:s})},[o,s,t]);var C=e=>{var n=m.index+e,r=Object(u.wrapAround)(n,[0,t.length]),a=t[r].value;x({value:a,index:r})};return Object(S.b)("div",{className:"\n        interactive\n        ".concat(a?"disabled":"","\n      "),css:Object(S.a)(Ee(),re,l,p,p,w?0:1,!w&&"pointer-events: none",h?"".concat(h-46,"px"):"auto",p,f,w?1e3:0,w?p*m.index:0,w?p*t.length:p,p,f,f,w?0:p*m.index,h?"".concat(h-46,"px"):"auto",p,w?"auto":"none")},Object(S.b)("div",{className:"spaceholder"},(t[0]?t:[{label:"--"}]).map((e,n)=>Object(S.b)("div",{key:"spaceholder".concat(n)},e.label))),Object(S.b)("div",{className:"blocker",onClick:a?null:()=>y(!w),onTouchEnd:a?null:()=>y(!w)}),Object(S.b)("div",{tabIndex:a?"-1":"0",onKeyDown:e=>{switch(e.keyCode){case 9:case 27:w&&y(!1);break;case 40:e.preventDefault(),C(1);break;case 38:e.preventDefault(),C(-1);break;case 32:e.preventDefault(),I(!0);break;case 13:I(!0)}},onKeyUp:e=>{switch(e.keyCode){case 38:case 40:e.preventDefault(),w||n(m.value);break;case 13:case 32:I(!1),w&&n(m.value),y(!w)}},className:"\n          select\n          ".concat(a?"disabled":"","\n          ").concat(H?"active":"","\n        "),onClick:a?null:()=>y(!w)},Object(S.b)(ye,{value:"divot"}),e&&Object(S.b)(ke,{text:e.text||e,place:e.place||"above"}),Object(S.b)("div",{className:"option-list-window"},Object(S.b)("div",{className:"option-list"},(t[0]?t:[{label:"--"}]).map((e,r)=>Object(S.b)("div",{className:w&&r===m.index?"option focus":"option",key:r,value:r,onClick:()=>(e=>{var r=t[e].value;n(r)})(r)},e.label))))))}function Ce(){var e=Object(f.a)(["\n        ","\n        ","\n        grid-area: ",";\n        height: ","px;\n        width: ","px;\n        input[type=text] {\n          flex-grow: 1;\n        }\n        .buttons {\n          button { \n            height: ","px;\n            width: ","px;\n            &:last-of-type { margin-right: 3px }\n            &.cancel { width: ","px }\n            &:disabled {\n              background: none;\n            }\n          }\n        }\n      "]);return Ce=function(){return e},e}var Se=e=>console.log('no handler: "',e,'" was dropped on the floor'),Te={height:36,width:180};function Re({valueProvided:e,validate:n={},handler:t=Se,label:a="Label",frontMatter:o,gridArea:i="field",dimensions:l,cssExtra:s,undoButton:u,goButton:b,disabled:p}){var h=Object(r.useState)(e),f=Object(c.a)(h,2),g=f[0],v=f[1],m=Object(r.useState)(!1),x=Object(c.a)(m,2),j=x[0],O=x[1],w=Object(r.useState)(!1),y=Object(c.a)(w,2),k=y[0],E=y[1],H=Object(d.a)(Object(d.a)({},Te),l),I=H.height,C=H.width;Object(r.useEffect)(()=>{v(e)},[e]);return Object(S.b)("div",{className:"\n        interactive\n        ".concat(k?"active":"","\n        ").concat(p?"disabled":"","\n      "),css:Object(S.a)(Ce(),he,s,i,I,C,I-6,I-6,g===e?0:I-6)},o&&Object(S.b)("div",{className:"front-matter"},o),a&&Object(S.b)(ke,{text:a.text||a,place:a.place||"above-left"}),Object(S.b)("input",{type:"text",value:g,onChange:e=>{var t=e.target.value,r=(e=>{var t=!n.draft||n.draft(e),r=0===e.length;return t||r})(t);r&&v(e.target.value);var a=(e=>!n.final||n.final(e))(r?t:g);O(a)},onKeyDown:e=>{13===e.keyCode&&E(!0)},onKeyUp:e=>{13===e.keyCode&&(console.log(e.target.value),j&&t(e.target.value),E(!1))},disabled:p}),Object(S.b)("div",{className:"buttons"},u&&Object(S.b)("button",{type:"button",className:"button cancel",onClick:()=>v(e),disabled:p},Object(S.b)(ye,{value:"undo"})),b&&Object(S.b)("button",{type:"button",onClick:()=>{j&&t(g)},disabled:p},Object(S.b)(ye,{value:"go"}))))}function _e(){var e=Object(f.a)(['grid-template:\n      [row1-start] "status    label     null      " '," [row1-end]\n      /             ","      auto      10px\n      "]);return _e=function(){return e},e}function Ae(){var e=Object(f.a)(['grid-template:\n      [row1-start] "null      label     status    " '," [row1-end]\n      /             10px      auto      ","  \n      "]);return Ae=function(){return e},e}function Pe(){var e=Object(f.a)(['grid-template:\n      [row1-start] "magnitude   title       close       " 76px [row1-end]\n      [row2-start] "magnitude   traits      traits      " 24px [row1-end]\n      [row3-start] "left        right       right       " auto [row2-end]\n      /             120px       auto        45px;\n      ']);return Pe=function(){return e},e}function De(){var e=Object(f.a)(['grid-template:\n      [row1-start] "minus     slider    plus      number      " '," [row1-end]\n      /             ","      ","      ","      ","  \n      "]);return De=function(){return e},e}function Ne(){var e=Object(f.a)(['grid-template:\n      [row1-start] "minus     slider    plus      " '," [row1-end]\n      /             ","      ","      ","\n      "]);return Ne=function(){return e},e}function ze(){var e=Object(f.a)(["\n        ",";\n        ",";\n        ",";\n        height: ","px;\n        width:  ",";\n        &:hover > .box, \n        &:focus > .box { \n          border-width: 2px \n        }\n        input[type=checkbox] {\n          height: ","px;\n          width:  ","px;\n          &.active,\n          &:active, \n          &:checked { ~ .box {\n            // fill the box:\n            border-width: ","px;\n          }}\n        }\n        .title {\n          height: ","px;\n          width:  ",";\n        }\n        .box {\n          height: ","px;\n          width:  ","px;\n        }\n        .icon {\n          height: ","px;\n          width:  ","px;\n          font-size: ","px;\n          font-variation-settings: 'wght' 500;\n          color: var(--bg-color)\n        }\n      "]);return ze=function(){return e},e}var Me={height:36,width:null,innerPad:20};function Be({id:e,label:n="Label",toggleStateProvided:t,handler:r,layout:a,dimensions:o,cssExtra:i}){var c=Object(d.a)(Object(d.a)({},Me),o),l=c.height,s=c.width,u=c.innerPad,b=s?"".concat(s,"px"):"auto",p=l-u,h=((e,n,t,r)=>{switch(e){case"slider":return Object(S.a)(Ne(),n,n,t,n);case"numeric-slider":return Object(S.a)(De(),n,n,t,n,r);case"icon-card":return Object(S.a)(Pe());case"title-left":return Object(S.a)(Ae(),n,n);case"title-right":default:return Object(S.a)(_e(),n,n)}})(a,"".concat(l,"px"));return Object(S.b)("label",{htmlFor:e,className:"interactive",css:Object(S.a)(ze(),Q,i,h,l,b,l,l,p/2,l,b,p,p,p,p,.75*p)},Object(S.b)("input",{id:e,type:"checkbox",checked:t,onChange:r}),Object(S.b)("div",{className:"title"},n),Object(S.b)("div",{className:"box"}),Object(S.b)(ye,{value:"check"}))}function Le(){var e=Object(f.a)(["\n        ",";\n        ",";\n        ","\n        grid-area: ",";\n        height: ","px;\n        input[type=checkbox] {\n          height: ","px;\n          width:  ","px;\n          &.active,\n          &:active, \n          &:checked { \n            ~ .box { // fill the box:\n            border-width: ","px;\n            }\n          }\n        }\n        .box {\n          height: ","px;\n          width:  ","px;\n        }\n        .icon {\n          font-size: ","px;\n          font-variation-settings: 'wght' 200;\n          color: var(--fg-color)\n        }\n      "]);return Le=function(){return e},e}var Ge={height:36};function Ue({id:e,icon:n,label:t="Label",toggleStateProvided:r,handler:a,disabled:o,dimensions:i,gridArea:c="key",cssExtra:l}){var s=Object(d.a)(Object(d.a)({},Ge),i).height;return Object(S.b)("label",{htmlFor:e,className:"\n        interactive\n        ".concat(o?"disabled":"","\n      "),css:Object(S.a)(Le(),Q,l,ne,c,s,s,s,s/2,s,s,.5*s)},Object(S.b)("input",{id:e,type:"checkbox",checked:r,onChange:a,disabled:o}),Object(S.b)("div",{className:"box"}),Object(S.b)(ye,{value:n}),t&&Object(S.b)(ke,{text:t.text||t,place:t.place||"above"}))}function Fe(){var e=Object(f.a)(["\n          ","\n          ",'\n          grid-template:\n            [row1-start] "switch           " ',"px [row1-end]\n            /             ","px;\n          input[type=checkbox] {\n            height: ","px;\n            width:  ","px;\n          }\n          input[type=range] {\n            height: ","px;\n            width:  ","px;\n            &::-webkit-slider-thumb {\n              height: ","px;\n              width:  ","px;\n            }\n            &::-moz-range-thumb {\n              height: ","px;\n              width:  ","px;\n            }\n          }\n          .switch {\n            height: ","px;\n            width:  ","px;\n            .thumb {\n              width:  ","px;\n              height: ","px;\n              margin: ","px 0;\n              margin-left: ","px;\n            }\n          }\n        "]);return Fe=function(){return e},e}function We(){var e=Object(f.a)(["\n        grid-area: ",';\n        display: grid;\n        align-items: center;\n        justify-items: center;\n        grid-template:\n          [row1-start] "label     switch           " ',"px [row1-end]\n          /             auto      ","px;\n        label {\n          cursor: pointer;\n          user-select: none;\n          padding: 0 5px;\n        }\n      "]);return We=function(){return e},e}var Ke={height:24,innerPad:3,trackWidth:36},Ye={place:"above",text:"Label",optionA:"OFF",optionB:"ON"};function Xe({id:e,text:n,label:t,toggleStateProvided:a,handler:o,cssExtra:i,dimensions:l,gridArea:s="switch",disabled:u}){var b=Object(r.useState)(a),p=Object(c.a)(b,2),h=p[0],f=p[1],g=Object(r.useState)(a?100:0),v=Object(c.a)(g,2),m=v[0],x=v[1],j=Object(r.useState)(a?100:0),O=Object(c.a)(j,2),w=O[0],y=O[1],k=Object(r.useState)(!1),E=Object(c.a)(k,2),H=E[0],I=E[1],C=Object(d.a)(Object(d.a)({},Ke),l),T=C.height,R=C.innerPad,_=C.trackWidth,A=C.thumbWidth,P=Object(d.a)(Object(d.a)({},Ye),t),D=P.text,N=P.place,z=P.optionA,M=P.optionB,B=T-2*R,L=R+w/100*(_-T);Object(r.useEffect)(()=>{y(a?100:0),f(a)},[a]);var G=()=>{x(w)},U=e=>{var n=H?w>50?100:0:m>50?0:100;y(n),m!==n&&o(e),I(!1)};return Object(S.b)("div",{className:"\n        interactive\n        ".concat(u?"disabled":"","\n      "),css:Object(S.a)(We(),s,T,_)},n&&Object(S.b)("label",{htmlFor:e},n),Object(S.b)("div",{tabIndex:"0",onMouseDown:u?null:G,onTouchStart:u?null:G,onMouseUp:u?null:U,onTouchEnd:u?null:U,css:Object(S.a)(Fe(),be,i,T,_,T,_,B,_,B,A||B,B,A||B,T,_,A||B,B,R,L)},t&&Object(S.b)(ke,{text:D||t,place:N||"above"}),Object(S.b)(ke,{text:h?M:z,place:h?"right":"left"}),Object(S.b)("input",{type:"checkbox",tabIndex:"-1",id:e,checked:h,onChange:o,disabled:u}),Object(S.b)("input",{tabIndex:"-1",type:"range",value:w,onChange:e=>{var n=e.target.value;n===m||H||I(!0),y(n)},min:0,max:100,disabled:u}),Object(S.b)("div",{className:"switch"},Object(S.b)("div",{className:"thumb"}))))}function Je({type:e,id:n=Math.random(),icon:t,disabled:r,label:o,toggleStateProvided:i,handler:c,dimensions:l,layout:s,gridArea:u,cssExtra:d}){switch(e){case"key":return a.a.createElement(Ue,{id:n,icon:t,disabled:r,label:o,toggleStateProvided:i,handler:c,dimensions:l,layout:s,gridArea:u,cssExtra:d});case"switch":return a.a.createElement(Xe,{id:n,disabled:r,label:o,toggleStateProvided:i,handler:c,dimensions:l,layout:s,gridArea:u,cssExtra:d});default:return a.a.createElement(Be,{id:n,disabled:r,label:o,toggleStateProvided:i,handler:c,dimensions:l,layout:s,gridArea:u,cssExtra:d})}}function Ze(){var e=Object(f.a)(["\n        ",";\n        ",";\n        ",";\n        ",";\n        grid-area: ",";\n        height: ","px;\n        width: ",";\n        align-items: center;\n        align-content: center;\n        justify-content: center;\n        text-align: center;\n        .icon { \n          height: ","px;\n          width:  ","px;\n        }\n      "]);return Ze=function(){return e},e}var Ve={height:100,width:null};function $e({children:e,handler:n,text:t,label:r,cssExtra:a,gridArea:o,dimensions:i,disabled:c}){var l=Object(d.a)(Object(d.a)({},Ve),i),s=l.height,u=l.width,b=u?"".concat(u,"px"):"auto";return Object(S.b)("button",{type:"button",className:"interactive",onClick:n,disabled:c,css:Object(S.a)(Ze(),Z,Y,ne,a,o,s,b,s,s)},e,t&&Object(S.b)("div",{className:"text"},r),r&&Object(S.b)(ke,{text:r.text||r,place:r.place||"above"}))}function qe(){var e=Object(f.a)(["\n        ","\n        ","\n        --thumb-width: ","px;\n        grid-area: ",";\n        flex-grow: ",";\n        .range-wrapper {\n          --slidable-space: calc(100% - var(--thumb-width));\n          --track-width: calc(var(--thumb-width) + var(--slidable-space) * ",");\n          --track-displace: ","%;\n          --thumb-displace: calc("," * var(--slidable-space) * ",");\n          input[type=range] {\n            width:  ","px;\n            margin-left: ","px;\n            height: ","px;\n            &::-webkit-slider-thumb { \n              height: ","px;\n              width:  ","px;\n            }\n            &::-moz-range-thumb { \n              height: ","px;\n              width:  var(--thumb-width);\n            }\n          }\n          .range {\n            width:  ",";\n            height: ","px;\n            margin: ","px 0;\n            .track {\n              width:  ","px;\n              margin-left: ","px;\n              height: ","px;\n              .thumb {\n                width:  ","px;\n                height: ","px;\n                margin-left: ","px;\n                .label-wrap {              \n                  width:  ","px;\n                }\n              }\n            }\n          }\n        }\n        input[type=number] {\n          grid-area: number;\n          width:  ","px;\n          height: ","px;\n        }\n        button {\n          height: ","px;\n          width:  ","px;\n        }\n      "]);return qe=function(){return e},e}var Qe={height:36,innerPad:3,rangeWidth:null,thumbWidth:20,numInputWidth:50},en=e=>"string"===typeof e?Number(e):e;function nn({label:e,valueProvided:n,disabled:t,handler:a,step:o=1,shiftStep:i=10*o,range:l,limit:s=l,dimensions:b,gridArea:p="slider",cssExtra:h,numeric:f,liveUpdate:g}){var v,m=Object(r.useState)(Object(u.funnel)(n,s)),x=Object(c.a)(m,2),j=x[0],O=x[1],w=Object(r.useState)(!1),y=Object(c.a)(w,2),k=y[0],E=y[1],H=Object(r.useState)(!1),I=Object(c.a)(H,2),C=I[0],T=I[1],R=Object(d.a)(Object(d.a)({},Qe),b),_=R.height,A=R.innerPad,P=R.rangeWidth,D=R.thumbWidth,N=R.numInputWidth,z=P?"".concat(P,"px"):"auto",M=Object(r.useRef)(null),B=null===(v=M.current)||void 0===v?void 0:v.offsetWidth,L=Object(r.useState)(B),G=Object(c.a)(L,2),U=G[0],F=G[1],W=l[1]-l[0],K=s[1]-s[0],Y=K/W,X=_-2*A,J=U-D,Z=D+J*Y,V=s[0]/W,$=U*V,q=(j-s[0])/(K||1),Q=q*J*Y;Object(r.useEffect)(()=>{O(Object(u.funnel)(n,s))},[n,s]),Object(r.useEffect)(()=>{var e;return F(null===(e=M.current)||void 0===e?void 0:e.offsetWidth)},[B]);var ee=e=>{O(e.target.value),g&&a(Number(e.target.value))},ne=e=>{switch(e.keyCode){case 13:E(!0);break;case 16:T(!0);break;case 37:case 40:O(en(j)-(C?i:o)),e.preventDefault();break;case 38:case 39:O(en(j)+(C?i:o)),e.preventDefault()}},te=e=>{switch(e.keyCode){case 13:E(!1),a(en(j));break;case 16:T(!1)}};return Object(S.b)("div",{onMouseUp:()=>!t&&a(en(j)),onTouchEnd:()=>!t&&a(en(j)),css:Object(S.a)(qe(),ue,h,D,p,P?0:1,Y,100*V,q,Y,Z,$,_,_,D,_,z,X,A,Z,$,X,D,X,Q,D,N,X,X,X),className:"\n        interactive\n        ".concat(k?"active":"","\n        ").concat(t?"disabled":"","\n      ")},Object(S.b)("button",{type:"button",tabIndex:"-1",disabled:j===s[0]||t,onClick:()=>a(en(j)-i)},Object(S.b)(ye,{value:"minus"})),Object(S.b)("div",{className:"range-wrapper"},Object(S.b)("div",{className:"range",ref:M},Object(S.b)("div",{className:"track"},Object(S.b)("div",{className:"thumb"},e&&Object(S.b)(ke,{text:e.text||e,place:e.place||"above"})))),Object(S.b)("input",{type:"range",tabIndex:-1,value:j,disabled:t,onChange:ee,onKeyDown:ne,onKeyUp:te,min:Math.round(s[0]),max:Math.round(s[1]),step:o})),Object(S.b)("button",{type:"button",tabIndex:"-1",disabled:j===s[1]||t,onClick:()=>a(en(j)+i)},Object(S.b)(ye,{value:"plus"})),f&&Object(S.b)("input",{type:"number",inputMode:"numeric",disabled:t,value:Math.round(en(j)),onChange:ee,onKeyDown:ne,onKeyUp:te}))}function tn(){var e=Object(f.a)(["\n      display: inline-flex;\n      flex-grow: 1;\n      height: 100px;\n      background: ",";\n      transition-property: all;\n      transition-duration: .2s;\n      transition-timing-function: initial;\n      align-items: center;\n      justify-content: center;\n    "]);return tn=function(){return e},e}var rn=({hex:e,importHexColor:n})=>Object(S.b)("div",{onClick:()=>n(e),css:Object(S.a)(tn(),e)},e);function an(){var e=Object(f.a)(["",""]);return an=function(){return e},e}function on({hues:e,tuner:n,color:t,colorIdx:o,deleteColor:i,changeColor:l,undoChange:s,redoChange:b}){var p=t.hue,h=t.sat,f=t.lum,g=t.prefer,v=t.hueIsLinked,m=t.linkedToHue,x=Object(u.specToHexFixLimit)(Object(d.a)(Object(d.a)({},t),{},{tuner:n})),j=Object(u.specToHex)(Object(d.a)(Object(d.a)({},t),{},{tuner:n})),O=Object(r.useState)(j.substr(1,6)),w=Object(c.a)(O,2),y=w[0],k=w[1];Object(r.useEffect)(()=>{k(Object(u.specToHex)(Object(d.a)(Object(d.a)({},t),{},{tuner:n})).substr(1,6))},[t,n]);var E=e=>l({targetIdx:o,content:e}),H=e=>{var n=u.validateHex.process("#".concat(e)),t=Object(u.hexToSpec)(n),r=t.hue,a=t.sat,o=t.lum;E({hue:r,sat:a,lum:o,hueIsLinked:!1})},T=(e,n)=>{var t=e;"number"!==typeof t&&(t=parseInt(e,10)),"lum"===n&&(t/=100);var r={};r[n]=t,console.log(o,r),E(Object(d.a)({},r))},R=Object(S.a)(an(),Object(u.scheme)({hexes:[j],scheme:u.schemes.trifactory,tuner:n}).Control),_={height:36};return a.a.createElement(a.a.Fragment,null,a.a.createElement(me,{gap:2,gridTemplate:' [row1-start] "undo redo .    close" auto [row1-end] /             0fr  0fr  1fr  0fr'},a.a.createElement($e,{handler:()=>s(o),disabled:t.history.marker===t.history.timeline.length,gridArea:"undo",cssExtra:R,dimensions:{height:36,width:36}},a.a.createElement(ye,{value:"undo"})),a.a.createElement($e,{handler:()=>b(o),disabled:0===t.history.marker,gridArea:"redo",cssExtra:R,dimensions:{height:36,width:36}},a.a.createElement(ye,{value:"redo"})),a.a.createElement($e,{handler:()=>i(o),dimensions:{height:36,width:36},gridArea:"close",cssExtra:R},a.a.createElement(ye,{value:"close"}))),a.a.createElement(Re,{valueProvided:y,validate:u.validateHex,handler:H,frontMatter:"#",dimensions:{fieldWidth:100},cssExtra:R,goButton:!0,undoButton:!0}),a.a.createElement(me,{gap:[2,10],gridTemplate:' [row1-start] "linked hue" auto [row1-end] [row2-start] "switch sat" auto [row2-end] [row3-start] "switch lum" auto [row3-end] /             0fr   1fr '},a.a.createElement(nn,{label:"Hue",handler:e=>T(e,"hue"),valueProvided:p,disabled:v,range:[0,360],dimensions:_,gridArea:"hue",cssExtra:R,numeric:!0}),a.a.createElement(C,{gridArea:"linked"},a.a.createElement(Ie,{label:"Source",valueProvided:m,handler:e=>E({linkedToHue:e}),dimensions:{width:100},options:[{value:null,label:"--"},...e.map(e=>({value:e.name,label:e.name}))],cssExtra:R}),a.a.createElement(Je,{type:"key",icon:"auto",dimensions:{height:36,trackWidth:48},handler:()=>E({hueIsLinked:!v}),disabled:null===m,toggleStateProvided:v,cssExtra:R})),a.a.createElement(nn,{numeric:!0,label:"Saturation",handler:e=>T(e,"sat"),valueProvided:h,range:[0,255],limit:x.limit.sat,dimensions:_,gridArea:"sat",cssExtra:R}),a.a.createElement(Je,{id:"prefer-color-".concat(o,"-flip"),type:"switch",label:{text:"Prefer",optionA:"Saturation",optionB:"Luminosity"},dimensions:{height:36,trackWidth:48},handler:()=>{E({prefer:"sat"===g?"lum":"sat"})},toggleStateProvided:"lum"===g,cssExtra:R}),a.a.createElement(nn,{label:"Luminosity",handler:e=>T(e,"lum"),valueProvided:100*f,range:[0,100],limit:x.limit.lum.map(e=>100*e),dimensions:_,gridArea:"lum",cssExtra:R,numeric:!0})),Object(u.gradientsToHexArrays)(t,n).map((e,n)=>a.a.createElement(I,{key:"Color-".concat(o,"-hexGroup-").concat(n),shadeRange:2===o},e.map((e,t)=>a.a.createElement(rn,{hex:e,importHexColor:H,key:"Color-".concat(o,"-Row-").concat(n,"-Swa-").concat(t)})))))}function cn(){var e=Object(f.a)(["\n        ","\n        ","\n        display: block;\n        background: ",";\n        transition-property: ",";\n        transition-duration: .3s;\n        transition-timing-function: initial;\n        max-height: ","px;\n      "]);return cn=function(){return e},e}function ln({hues:e,tuner:n,color:t,colorIdx:r,addColor:a,deleteColor:o,changeColor:i,undoChange:c,redoChange:l}){var s=t?Object(u.specToHex)(Object(d.a)(Object(d.a)({},t),{},{tuner:n})):null;return Object(S.b)("section",{onClick:t?null:()=>a(e[0]),className:"PaletteModule",css:Object(S.a)(cn(),t?"":Z,t?"":"\n          --bg-color: #333;\n          --fg-color: #aaa;\n        ",s,"all",t?1e5:100)},void 0===t?"add color":Object(S.b)(on,{hues:e,tuner:n,color:t,colorIdx:r,deleteColor:o,changeColor:i,undoChange:c,redoChange:l}))}var sn=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],un=[0,.1,.2,.3,.4,.5,.6,.7,.8,.85,.9,.94,.97],dn=(e,n)=>({axes:[{attribute:"hue",from:e,to:n},{attribute:"sat",from:255,to:255}],steps:sn,prefer:"sat"}),bn=e=>({axes:[{attribute:"hue",from:e,to:e},{attribute:"sat",from:255,to:255},{attribute:"lum",from:0,to:1}],steps:un,prefer:"lum"}),pn={default:{hues:[{id:.2,name:"indigo",angle:240,nameIsDerived:!1,hueIsDerived:!1,deriveHue:null},{id:.5,name:"lime",angle:90,nameIsDerived:!1,hueIsDerived:!0,deriveHue:{from:"indigo",via:"split",to:0}}],colors:[{id:333,hueIsLinked:!0,linkedToHue:"indigo",hue:240,sat:255,lum:.5,prefer:"sat",history:{marker:0,timeline:[]},gradients:[{steps:sn,prefer:"sat",axes:[{attribute:"hue",relative:!0,from:-20,to:20}]},{steps:sn,prefer:"lum",axes:[{attribute:"hue",relative:!0,from:-20,to:20}]},{steps:sn,prefer:"lum",axes:[{attribute:"lum",from:0,to:1}]},{steps:sn,prefer:"sat",axes:[{attribute:"sat",to:255,from:0}]}]},{id:334,hueIsLinked:!1,linkedToHue:null,hue:215,sat:0,lum:0,history:{marker:0,timeline:[]},gradients:[dn(0,60),dn(30,90),dn(60,120),dn(90,150),dn(120,180),dn(150,210),dn(180,240),dn(210,270),dn(240,300),dn(270,330),dn(300,360),dn(330,390)]},{id:335,hueIsLinked:!1,linkedToHue:null,hue:0,sat:0,lum:0,history:{marker:0,timeline:[]},gradients:[bn(10),bn(20),bn(50),bn(80),bn(110),bn(140),bn(170),bn(200),bn(230),bn(260),bn(290),bn(320)]}]}};function hn(){var e=Object(f.a)(["\n            border-radius:100%;\n            display: flex;\n            height: 144px;\n            width: 144px;\n            position: absolute;\n            justify-content: flex-end;\n            align-items: center;\n            transform: rotate(-","deg);\n            transition: all 0.5s ease;\n            &:first-of-type { \n              background-color: #393939;\n            }\n            > .dot {\n              z-index: 100;\n              position: absolute;\n              right: -6px;\n              border-radius:100%;\n              height: 12px;\n              width: 12px;\n              background-color: ",";\n            }\n          "]);return hn=function(){return e},e}function fn(){var e=Object(f.a)(["\n        display: flex;\n        height: 144px;\n        width: 100%;\n        justify-content: center;\n        margin-bottom: 20px;\n      "]);return fn=function(){return e},e}function gn({hues:e,tuner:n}){return Object(S.b)("div",{css:Object(S.a)(fn())},e.map(e=>Object(S.b)("div",{css:Object(S.a)(hn(),e.angle,Object(u.specToHex)({hue:e.angle,sat:255,lum:1,prefer:"sat",tuner:n})),key:"hueball-for-".concat(e.id,"-").concat(e.hueIsDerived)},Object(S.b)("div",{className:"dot"}))))}function vn(){var e=Object(f.a)(["\n                  grid-area: view;\n                  width: 36px;\n                  height: 36px;\n                  background: ",";\n                "]);return vn=function(){return e},e}function mn({hue:e,hues:n,hueIdx:t,changeHue:r,addHue:o,deleteHue:i,tuner:c}){var l,s,b,p,h,f,g=e.name,v=e.angle,m=e.deriveHue,x=e.hueIsDerived,j=e.nameIsDerived,O=[...n].slice(0,t),w={final:e=>!n.some(n=>n.name===e)&&0!==e.length},y=e=>r({targetIdx:t,content:e}),k=e=>{var n=Object(d.a)(Object(d.a)({},m),e);y({deriveHue:n})};return Object(S.b)(me,{gap:2,gridTemplate:' [row1-start] "view  tdn  field drops tdh  slider action" auto [row1-end] /             0fr   0fr  0fr   0fr   0fr   1fr   0fr'},g?Object(S.b)(a.a.Fragment,null,Object(S.b)("div",{key:"hue-".concat(t),css:Object(S.a)(vn(),Object(u.specToHex)({hue:v,sat:255,lum:1,prefer:"sat",tuner:c}))}),Object(S.b)(Je,{handler:()=>{y({nameIsDerived:!e.nameIsDerived})},toggleStateProvided:j,gridArea:"tdn",type:"key",icon:"auto",label:"autoname ON"}),Object(S.b)(Re,{label:"Name",valueProvided:g,validate:w,handler:e=>y({name:e}),disabled:j,goButton:!0,undoButton:!0}),Object(S.b)(Je,{disabled:0===t,type:"key",label:{text:"Derive Hue"},dimensions:{height:36,trackWidth:48},gridArea:"tdh",handler:()=>{var e=Object(d.a)({},m);null===m&&(e={from:n[0].name,via:Object.keys(u.HUE_STRUCTURES)[1],to:0}),y({hueIsDerived:!x,deriveHue:e})},toggleStateProvided:x,icon:"auto"}),Object(S.b)(C,{gridArea:"drops"},Object(S.b)(Ie,{label:"Derive From",valueProvided:null===(l=e.deriveHue)||void 0===l?void 0:l.from,dimensions:{width:100},handler:e=>k({from:e}),disabled:!x,options:O.map(e=>({value:e.name,label:e.name}))}),Object(S.b)(Ie,{label:"Derive Via",valueProvided:null===(s=e.deriveHue)||void 0===s?void 0:s.via,dimensions:{width:100},handler:e=>k({via:e}),disabled:!x,options:(null===(b=e.deriveHue)||void 0===b?void 0:b.from)?Object.keys(u.HUE_STRUCTURES).slice(1).map(e=>({value:e,label:e})):[]}),Object(S.b)(Ie,{label:"Derive To",valueProvided:null===(p=e.deriveHue)||void 0===p?void 0:p.to,dimensions:{width:100},handler:e=>k({to:e}),disabled:!x,options:(null===(h=e.deriveHue)||void 0===h?void 0:h.via)?u.HUE_STRUCTURES[null===(f=e.deriveHue)||void 0===f?void 0:f.via].map((e,n)=>({value:n,label:"+ ".concat(e,"\xb0")})):[]})),Object(S.b)(nn,{label:"Hue",handler:e=>y({angle:e}),disabled:x,valueProvided:Object(u.wrapAround)(v,[0,360]),range:[0,360],numeric:!0}),Object(S.b)($e,{handler:()=>i(t),dimensions:{height:36,width:36},gridArea:"action",label:"Delete Hue"},Object(S.b)(ye,{value:"close"}))):Object(S.b)($e,{handler:o,dimensions:{height:36},gridArea:"action",label:{text:"Add Hue",place:"left"}},Object(S.b)(ye,{value:"plus"})))}function xn(){var e=Object(f.a)(["\n        --ex-bg-color: #444;\n        --bg-color: #222;\n        --mg-color: #000;\n        --fg-color: #aaa;\n        background: var(--ex-bg-color);\n        .interactive {\n          &:hover,\n          &.focus,\n          &:focus {\n            --bg-color: #333;\n            --mg-color: #000;\n            --fg-color: #fff;\n          }\n          &:active,\n          &.active {\n            --bg-color: #111;\n            --mg-color: #000;\n            --fg-color: #fff;\n          }\n          &:disabled,\n          &.disabled {\n            --bg-color: #3a3a3a;\n            --mg-color: #000;\n            --fg-color: #999;\n          }\n        }\n      "]);return xn=function(){return e},e}function jn({hues:e,changeHue:n,addHue:t,deleteHue:r,tuner:a}){return Object(S.b)("section",{css:Object(S.a)(xn())},Object(S.b)(gn,{hues:e,tuner:a}),[...e,{}].map((o,i)=>Object(S.b)(mn,{key:"controls-for-".concat(null===o||void 0===o?void 0:o.name),hue:o,hues:e,hueIdx:i,changeHue:n,addHue:t,deleteHue:r,tuner:a})))}function On(){var e=u.builtInTunerKit.simulateCMYK,n=A("hues",pn.default.hues),t=Object(c.a)(n,2),r=t[0],o=t[1],i=A("colors",pn.default.colors),f=Object(c.a)(i,2),g=f[0],v=f[1],m=h(g,v,e,r),x=Object(c.a)(m,6),j=x[0],O=x[1],w=x[2],y=x[3],k=x[4],I=x[5],C=((e,n,t,r)=>{var a=(a,i)=>{var c=[...i||e],l=a.targetIdx,s=a.content,b=c[l],h={};if(s.deriveHue){var f=s.deriveHue,g=f.from,v=f.via,m=f.to;console.log(g,v,m);var x=c.find(e=>e.name===g),j=u.HUE_STRUCTURES[v],O=x.angle+j[Object(u.funnel)(m,[0,j.length-1])];h.angle=O}!1===s.hueIsDerived&&(h.angle=Object(u.wrapAround)(s.angle||h.angle||b.angle,[0,360]));var w=b.nameIsDerived,y="undefined"===typeof s.nameIsDerived,k=w&&y,E=s.nameIsDerived;(k||E)&&(h.name=p(Object(u.nameHue)(Object(u.wrapAround)(s.angle||h.angle||b.angle,[0,360])),l,e),console.log("derivedContent",h));var H=Object(d.a)(Object(d.a)(Object(d.a)({},b),s),h);c.splice(l,1,H);for(var I=[],C=[],S=0;S<e.length;S++){var T,R=e[S];if((null===(T=R.deriveHue)||void 0===T?void 0:T.from)===b.name&&!0===R.hueIsDerived){var _=Object(d.a)({},R);console.log("~~~ hue named",_.name,"is downstream");var A=_.deriveHue;A.from=H.name,I.push({targetIdx:S,content:{deriveHue:A}})}}for(var P=0;P<t.length;P++){var D=t[P];if(D.linkedToHue===b.name){var N=void 0;if(D.hueIsLinked){var z=Object(d.a)({},D);console.log("~~~ color with sat",z.sat,"and lum",z.lum,"is downstream");var M=H.name,B=H.angle;N={linkedToHue:M,hue:Object(u.wrapAround)(B,[0,360])}}else N={linkedToHue:null};C.push({targetIdx:P,content:N})}}if(console.log("    hueChangesDownstream",...I),console.log("    colorChangesDownstream",...C),I[0]&&(c=o(I,c)),C[0]&&r(C),i)return c;i||n(c),console.log("    newHues",...c)},o=(t,r)=>{console.log("changes",...t);var o=[...r||e];console.log("newHues",...o);for(var i=0;i<t.length;i++){var c=t[i];if(o=a(c,o),r&&i===t.length-1)return o;r||n(o)}};return[a,o,()=>{var t=b(360),r={id:Math.random(),nameIsDerived:!0,hueIsDerived:!1,deriveHue:null,name:p(Object(u.nameHue)(t),e.length,e),angle:t},a=[...e,r];n(a)},(a,i)=>{for(var c=[...i||e],l=e[a],s=[],b=[],p=0;p<e.length;p++){var h,f=e[p];(null===(h=f.deriveHue)||void 0===h?void 0:h.from)===l.name&&s.push({targetIdx:p,content:{angle:Object(u.wrapAround)(f.angle,[0,360]),hueIsDerived:!1,deriveHue:null}})}for(var g=0;g<t.length;g++){var v=t[g];if(v.hueIsLinked&&v.linkedToHue===l.name){var m=Object(d.a)({},v);console.log("~~~ color with sat",m.sat,"and lum",m.lum,"is downstream"),b.push({targetIdx:g,content:{hueIsLinked:!1,linkedToHue:null}})}}s[0]&&(c=o(s,c)),b[0]&&r(b),c.splice(a,1),n(c)}]})(r,o,g,O),S=Object(c.a)(C,4),T=S[0],R=S[1],_=S[2],P=S[3];return a.a.createElement(l.a,{basename:"/".concat("/trifactory")},a.a.createElement(E,null,a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(l.b,{to:""},"Tiles")),a.a.createElement("li",null,a.a.createElement(l.b,{to:"/logic"},"Logic")))),a.a.createElement(s.c,null,a.a.createElement(s.a,{exact:!0,path:""},a.a.createElement(W,{colors:g,setColors:v,tuner:e})),a.a.createElement(s.a,{path:"/logic"},a.a.createElement(H,null,a.a.createElement(jn,{hues:r,changeHue:T,addHue:_,deleteHue:P,applyChangesToHues:R,tuner:e}),[...g,void 0].map((n,t)=>a.a.createElement(ln,{key:"color-".concat(t),hues:r,tuner:e,color:n,colorIdx:t,addColor:k,deleteColor:I,changeColor:j,undoChange:w,redoChange:y}))))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(On,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.a299ec24.chunk.js.map